{% extends "base.html" %}
{% block title %}Chatbot{% endblock %}
{% block content %}
<div class="flex h-screen w-full">
    <!-- Sidebar -->
    <div id="sidebar" class="bg-gray-800 text-white w-64 space-y-6 py-7 px-2 absolute inset-y-0 left-0 transform -translate-x-full md:relative md:translate-x-0 transition duration-200 ease-in-out">
        <button id="sidebar-toggle" class="md:hidden absolute right-0 top-0 mt-4 -mr-8 bg-gray-800 text-white p-2 rounded-r">
            <svg class="w-6 h-6" fill="none" stroke="currentColor" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg">
                <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h16"></path>
            </svg>
        </button>
        <nav>
            <a href="#" id="new-chat" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700">New Chat</a>
            <a href="#" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700">Chat History</a>
            <a href="#" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700">Settings</a>
            <a href="#" class="block py-2.5 px-4 rounded transition duration-200 hover:bg-gray-700">Help</a>
        </nav>
    </div>

    <!-- Main Content -->
    <div class="flex-1 flex flex-col overflow-hidden">
        <div id="chatbot-container" class="chatbot-container flex-1 flex flex-col">
            <header class="chatbot-header">
                <h1>Chatbot</h1>
            </header>
            <main id="chat-container" class="chat-messages flex-1 overflow-y-auto"></main>
            <footer class="chat-input-container">
                <form id="chat-form" class="chat-form">
                    <div class="input-wrapper">
                        <textarea id="user-input" class="chat-input" placeholder="Type a message..." rows="1"></textarea>
                        <div class="input-actions">
                            <label for="file-upload" class="attachment-icon" title="Attach file: Image, TXT, PDF, DOC, DOCX">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <path d="M21.44 11.05l-9.19 9.19a6 6 0 0 1-8.49-8.49l9.19-9.19a4 4 0 0 1 5.66 5.66l-9.2 9.19a2 2 0 0 1-2.83-2.83l8.49-8.48"></path>
                                </svg>
                            </label>
                            <input id="file-upload" type="file" accept="image/*,.txt,.pdf,.doc,.docx" style="display: none;">
                            <button type="submit" class="chat-submit">
                                <svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" fill="none" stroke="currentColor" stroke-width="2" stroke-linecap="round" stroke-linejoin="round">
                                    <line x1="12" y1="19" x2="12" y2="5"></line>
                                    <polyline points="5 12 12 5 19 12"></polyline>
                                </svg>
                            </button>
                        </div>
                    </div>
                    <div class="input-info">Use shift + enter for new line</div>
                </form>
            </footer>
        </div>
        <!-- Settings Modal -->
        <div id="settings-modal" class="modal hidden">
            <div class="modal-content">
                <span class="close">&times;</span>
                <h2>Settings</h2>
                <div class="setting">
                    <label for="temperature">Temperature: <span id="temperature-value">0.7</span></label>
                    <input type="range" id="temperature" min="0" max="1" step="0.01" value="0.7">
                </div>
                <div class="setting">
                    <label for="top-p">Top P: <span id="top-p-value">0.9</span></label>
                    <input type="range" id="top-p" min="0" max="1" step="0.01" value="0.9">
                </div>
                <div class="setting">
                    <label for="top-k">Top K: <span id="top-k-value">50</span></label>
                    <input type="range" id="top-k" min="0" max="100" step="1" value="50">
                </div>
                <div class="setting">
                    <label for="tokens">Max Tokens: <span id="tokens-value">2048</span></label>
                    <input type="range" id="tokens" min="1" max="4096" step="1" value="2048">
                </div>
                <div class="setting">
                    <label for="system-prompt">System Prompt:</label>
                    <textarea id="system-prompt" rows="4" class="w-full p-2 border rounded">You are a helpful chat bot that can analyze images, documents, and answer questions about them.</textarea>
                </div>
                <button id="save-settings">Save Settings</button>
            </div>
        </div>
    </div>
</div>
{% endblock %}

{% block scripts %}
<script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/highlight.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/dompurify/2.3.10/purify.min.js"></script>
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/highlight.js/11.5.1/styles/atom-one-dark.min.css">
<script>
    const chatbotContainer = document.getElementById('chatbot-container');
    const chatContainer = document.getElementById('chat-container');
    const chatForm = document.getElementById('chat-form');
    const userInput = document.getElementById('user-input');
    const fileUpload = document.getElementById('file-upload');
    const filePreview = document.getElementById('file-preview');
    const sidebarToggle = document.getElementById('sidebar-toggle');
    const sidebar = document.getElementById('sidebar');
    let currentFileData = null;
    let currentFileType = null;
    
    function adjustLayout() {
        const viewportHeight = window.innerHeight;
        const viewportWidth = window.innerWidth;
        
        chatbotContainer.style.height = `${viewportHeight}px`;
        chatbotContainer.style.width = `${viewportWidth}px`;
        
        const headerHeight = document.querySelector('.chatbot-header').offsetHeight;
        const footerHeight = document.querySelector('.chat-input-container').offsetHeight;
        chatContainer.style.height = `${viewportHeight - headerHeight - footerHeight}px`;

        // Adjust main content width based on sidebar visibility
        const mainContent = document.querySelector('.flex-1.flex.flex-col');
        if (window.innerWidth >= 768) { // md breakpoint
            mainContent.style.width = sidebar.classList.contains('-translate-x-full') ? '100%' : 'calc(100% - 16rem)';
        } else {
            mainContent.style.width = '100%';
        }
    }
    
    window.addEventListener('load', adjustLayout);
    window.addEventListener('resize', adjustLayout);
    
    chatForm.addEventListener('submit', function(e) {
        e.preventDefault();
        const message = userInput.value.trim();
        if (message || currentFileData) {
            appendMessage('user', message, currentFileData, currentFileType);
            fetchBotResponse(message, currentFileData, currentFileType);
            userInput.value = '';
            clearFilePreview();
            
            // Reset the textarea height
            userInput.style.height = 'auto';
        }
    });
    
    userInput.addEventListener('keydown', function(e) {
        if (e.key === 'Enter') {
            if (!e.shiftKey) {
                e.preventDefault(); // Prevent default 'Enter' behavior
                chatForm.dispatchEvent(new Event('submit')); // Trigger form submission
            }
        }
    });
    
    function autoResizeTextarea(textarea) {
        textarea.style.height = 'auto';
        textarea.style.height = textarea.scrollHeight + 'px';
    }
    
    userInput.addEventListener('input', function() {
        autoResizeTextarea(this);
    });
    
    fileUpload.addEventListener('change', handleFileSelect);
    
    function handleFileSelect(event) {
        const file = event.target.files[0];
        if (file) {
            const reader = new FileReader();
            reader.onload = function(e) {
                currentFileData = e.target.result.split(',')[1];
                currentFileType = file.type.startsWith('image/') ? 'image' : 'document';
                displayFilePreview(file.name, currentFileType);
            };
            reader.readAsDataURL(file);
        }
    }
    
    function displayFilePreview(fileName, fileType) {
        if (fileType === 'image') {
            filePreview.innerHTML = `<img src="data:image/jpeg;base64,${currentFileData}" alt="Uploaded image" style="max-width: 100px; max-height: 100px;">`;
        } else {
            filePreview.innerHTML = `<span>${fileName}</span>`;
        }
    }
    
    function clearFilePreview() {
        filePreview.innerHTML = '';
        currentFileData = null;
        currentFileType = null;
    }
    
    chatContainer.addEventListener('dragover', (e) => {
        e.preventDefault();
        e.stopPropagation();
    });
    
    chatContainer.addEventListener('drop', (e) => {
        e.preventDefault();
        e.stopPropagation();
        const file = e.dataTransfer.files[0];
        fileUpload.files = e.dataTransfer.files;
        handleFileSelect({ target: fileUpload });
    });
    
    function appendMessage(sender, message, fileData = null, fileType = null) {
    const messageElement = document.createElement('div');
    messageElement.className = `chat-message ${sender}`;
    
    const contentElement = document.createElement('div');
    contentElement.className = 'content prose';
    
    if (sender === 'user') {
        contentElement.textContent = message;
        if (fileData) {
            if (fileType === 'image') {
                const img = document.createElement('img');
                img.src = `data:image/jpeg;base64,${fileData}`;
                img.style.maxWidth = '200px';
                img.style.maxHeight = '200px';
                contentElement.appendChild(img);
            } else {
                const docInfo = document.createElement('p');
                docInfo.textContent = 'Document attached';
                contentElement.appendChild(docInfo);
            }
        }
    } else if (sender === 'bot') {
        const generatingElement = document.createElement('div');
        generatingElement.className = 'generating';
        generatingElement.innerHTML = 'Generating<span class="dot-1">.</span><span class="dot-2">.</span><span class="dot-3">.</span>';
        contentElement.appendChild(generatingElement);
    } else if (sender === 'system') {
        contentElement.innerHTML = `<em>${message}</em>`;
        contentElement.style.color = '#888';
    } else {
        const sanitizedHtml = DOMPurify.sanitize(marked.parse(message));
        contentElement.innerHTML = sanitizedHtml;
        contentElement.querySelectorAll('pre code').forEach((block) => {
            const pre = block.parentNode;
            hljs.highlightBlock(block);
            addCopyButton(pre, block);
        });
    }
    
    messageElement.appendChild(contentElement);
    chatContainer.appendChild(messageElement);
    chatContainer.scrollTop = chatContainer.scrollHeight;
    return contentElement;
}
    
    function addCopyButton(pre, block) {
        const copyButton = document.createElement('button');
        copyButton.textContent = 'Copy';
        copyButton.className = 'copy-button';
        copyButton.addEventListener('click', () => {
            navigator.clipboard.writeText(block.textContent).then(() => {
                copyButton.textContent = 'Copied!';
                setTimeout(() => {
                    copyButton.textContent = 'Copy';
                }, 2000);
            });
        });
    
        const language = block.className.split('-')[1].replace('hljs', '').trim();
        const languageDisplay = document.createElement('span');
        languageDisplay.textContent = language;
        languageDisplay.className = 'language-display';
    
        const topBar = document.createElement('div');
        topBar.className = 'code-top-bar';
        topBar.appendChild(languageDisplay);
        topBar.appendChild(copyButton);
    
        pre.insertBefore(topBar, block);
    }
       
    function fetchBotResponse(message, fileData = null, fileType = null) {
        const botMessageElement = appendMessage('bot', '');
        const formData = new FormData();
        formData.append('user_input', message);
        if (fileData) {
            if (fileType === 'image') {
                formData.append('image_data', fileData);
            } else {
                formData.append('document_data', fileData);
            }
        }

            // Add settings to the formData
            const settings = getSettings();
            Object.keys(settings).forEach(key => {
                formData.append(key, settings[key]);
            });
    
        fetch('/stream', {
            method: 'POST',
            body: formData
        }).then(response => {
            const reader = response.body.getReader();
            let fullMessage = '';
    
            function readChunk() {
                reader.read().then(({ done, value }) => {
                    if (done) {
                        console.log("Stream complete");
                        return;
                    }
    
                    const chunk = new TextDecoder().decode(value);
                    const lines = chunk.split('\n\n');
                    lines.forEach(line => {
                        if (line.startsWith('data: ')) {
                            const data = JSON.parse(line.slice(6));
                            if (data.type === 'message_delta') {
                                console.log("Message complete");
                            } else if (data.error) {
                                console.error("Server error:", data.error);
                                botMessageElement.innerHTML = `Error: ${data.error}`;
                            } else if (data.text) {
                                if (fullMessage === '') {
                                    botMessageElement.innerHTML = ''; // Clear the "Generating..." message
                                }
                                fullMessage += data.text;
                                const sanitizedHtml = DOMPurify.sanitize(marked.parse(fullMessage));
                                botMessageElement.innerHTML = sanitizedHtml;
                                botMessageElement.querySelectorAll('pre code').forEach((block) => {
                                    const pre = block.parentNode;
                                    hljs.highlightBlock(block);
                                    addCopyButton(pre, block);
                                });
                                chatContainer.scrollTop = chatContainer.scrollHeight;
                            }
                        }
                    });
    
                    readChunk();
                }).catch(error => {
                    console.error("Error reading stream:", error);
                    botMessageElement.innerHTML = 'Error: Connection lost. Please try again.';
                });
            }
    
            readChunk();
        }).catch(error => {
            console.error("Fetch error:", error);
            botMessageElement.innerHTML = 'Error: Failed to connect to the server. Please try again.';
        });
    }

    function startNewChat() {
    // Clear the chat container
    chatContainer.innerHTML = '';
    
    // Clear any uploaded file data
    currentFileData = null;
    currentFileType = null;
    
    // Clear the file preview
    clearFilePreview();
    
    // Clear the user input
    userInput.value = '';
    
    // Reset the textarea height
    userInput.style.height = 'auto';
    
    // Clear chat history on the server
    fetch('/new_chat', {
        method: 'POST',
        headers: {
            'Content-Type': 'application/json',
        },
    })
    .then(response => {
        if (!response.ok) {
            throw new Error('Network response was not ok');
        }
        return response.json();
    })
    .then(data => {
        if (data.status === 'success') {
            console.log('Chat history cleared on server:', data.message);
        } else {
            console.error('Error clearing chat history:', data.message);
        }
    })
    .catch(error => {
        console.error('Error clearing chat history:', error);
    });

    // Close the sidebar on mobile after starting a new chat
    if (window.innerWidth < 768) {
        sidebar.classList.add('-translate-x-full');
        adjustLayout();
    }
}

document.getElementById('new-chat').addEventListener('click', function(e) {
    e.preventDefault();
    if (confirm('Are you sure you want to start a new chat? This will clear the current conversation.')) {
        startNewChat();
    }
});

    // Sidebar toggle functionality
    sidebarToggle.addEventListener('click', () => {
        sidebar.classList.toggle('-translate-x-full');
        adjustLayout();
    });

    // Initial call to adjustLayout
    adjustLayout();


    // Get the modal
    const modal = document.getElementById("settings-modal");

    // Get the button that opens the modal
    const settingsBtn = document.querySelector('a[href="#"].block.py-2\\.5.px-4.rounded.transition.duration-200.hover\\:bg-gray-700:nth-child(3)');

    // Get the <span> element that closes the modal
    const span = document.getElementsByClassName("close")[0];

    // When the user clicks on the button, open the modal
    settingsBtn.onclick = function(e) {
        e.preventDefault();
        modal.classList.remove("hidden");
    }

    // When the user clicks on <span> (x), close the modal
    span.onclick = function() {
        modal.classList.add("hidden");
    }

    // When the user clicks anywhere outside of the modal, close it
    window.onclick = function(event) {
        if (event.target == modal) {
            modal.classList.add("hidden");
        }
    }

    // Update the value spans when sliders change
    document.querySelectorAll('.setting input[type="range"]').forEach(input => {
        input.oninput = function() {
            document.getElementById(`${this.id}-value`).textContent = this.value;
        }
    });

    // Save settings
    document.getElementById('save-settings').onclick = function() {
    if (confirm("Saving new settings will clear the current chat. Are you sure you want to proceed?")) {
        const settings = getSettings();
        console.log('Settings saved:', settings);
        
        // Clear the chat
        clearChat();
        
        // Close the modal
        modal.classList.add("hidden");
        
        // Optionally, you can add a system message to inform the user
        appendMessage('system', 'New settings applied. The chat has been cleared.');

        function clearChat() {
            chatContainer.innerHTML = '';
        }
        
        // Send a request to clear the chat history on the server
        fetch('/new_chat', {
            method: 'POST',
            headers: {
                'Content-Type': 'application/json',
            },
        })
        .then(response => response.json())
        .then(data => {
            if (data.status === 'success') {
                console.log('Chat history cleared on server:', data.message);
            } else {
                console.error('Error clearing chat history:', data.message);
            }
        })
        .catch(error => {
            console.error('Error clearing chat history:', error);
        });
    }
}

    function getSettings() {
    return {
        temperature: document.getElementById('temperature').value,
        top_p: document.getElementById('top-p').value,
        top_k: document.getElementById('top-k').value,
        max_tokens: document.getElementById('tokens').value,
        system_prompt: document.getElementById('system-prompt').value
    };
}

</script>



<style>
    html, body {
        height: 100%;
        margin: 0;
        padding: 0;
        overflow: hidden;
    }
    
    body {
        display: flex;
        flex-direction: column;
        font-family: Arial, sans-serif;
    }
    
    .chatbot-container {
        display: flex;
        flex-direction: column;
        height: 100vh;
        width: 100vw;
        max-height: 100vh;
        overflow: hidden;
    }
    
    .chatbot-header {
        flex: 0 0 auto;
        padding: 0.5rem 1rem;
        background-color: #f0f0f0;
        border-bottom: 1px solid #ddd;
    }
    
    .chatbot-header h1 {
        margin: 0;
        font-size: 1.5rem;
    }
    
    .chat-messages {
        flex: 1 1 auto;
        overflow-y: auto;
        padding: 1rem;
        background-color: #ffffff;
    }
    
    .chat-input-container {
    flex: 0 0 auto;
    padding: 0.5rem 1rem;
    background-color: #f0f0f0;
    border-top: 1px solid #ddd;
    width: 100%;
    box-sizing: border-box;
}

.chat-form {
    display: flex;
    flex-direction: column;
    width: 100%;
}

.input-wrapper {
    display: flex;
    align-items: center;
    background-color: white;
    border-radius: 20px;
    padding: 0.5rem;
    box-shadow: 0 1px 3px rgba(0, 0, 0, 0.1);
}

.chat-input {
    flex-grow: 1;
    border: none;
    outline: none;
    padding: 0.5rem;
    resize: none;
    font-size: 1rem;
    background: transparent;
    min-width: 0; /* Add this line */
}

.input-actions {
    display: flex;
    align-items: center;
    flex-shrink: 0; /* Add this line */
}

.attachment-icon, .chat-submit {
    background: none;
    border: none;
    cursor: pointer;
    padding: 0.25rem;
    margin-left: 0.5rem;
    flex-shrink: 0; /* Add this line */
}

    
    .attachment-icon svg, .chat-submit svg {
        width: 20px;
        height: 20px;
        color: #888;
    }
    
    .chat-submit {
        background-color: #b46d51;
        border-radius: 50%;
        padding: 0.5rem;
    }
    
    .chat-submit svg {
        color: white;
    }
    
    .input-info {
        text-align: right;
        font-size: 0.8rem;
        color: #888;
        margin-top: 0.25rem;
    }
    
    .chat-message {
        max-width: 70%;
        margin-bottom: 1rem;
        padding: 0.75rem 1rem;
        border-radius: 1rem;
    }
    
    .chat-message.user {
        margin-left: auto;
        background-color: #e3f2fd;
    }
    
    .chat-message.bot {
        margin-right: auto;
        background-color: #f0f0f0;
    }
    
    .prose pre {
        position: relative;
        margin-top: 1.5em;
        background-color: #282c34;
        border-radius: 6px;
        overflow: hidden;
    }
    
    .prose pre code {
        display: block;
        padding: 1em;
        overflow-x: auto;
        color: #abb2bf;
    }
    
    .copy-button {
        position: absolute;
        top: 0.25em;
        right: 0.5em;
        padding: 0.25em 0.5em;
        background-color: #3e4451;
        color: #abb2bf;
        border: none;
        border-radius: 4px;
        cursor: pointer;
        font-size: 0.75em;
    }
    
    .copy-button:hover {
        background-color: #4b5363;
    }
    
    .file-preview {
        display: flex;
        align-items: center;
        margin-right: 0.5rem;
    }
    
    .file-preview img {
        max-width: 50px;
        max-height: 50px;
        object-fit: cover;
        border-radius: 4px;
    }
    
    .file-preview span {
        max-width: 150px;
        overflow: hidden;
        text-overflow: ellipsis;
        white-space: nowrap;
        font-size: 0.8rem;
        color: #555;
    }
    
    .prose ul, .prose ol {
        list-style-position: inside;
        padding-left: 1em;
    }
    
    .prose ul {
        list-style-type: disc;
    }
    
    .prose ol {
        list-style-type: decimal;
    }
    
    .prose li {
        margin-bottom: 0.5em;
    }
    
    .prose p {
        margin-bottom: 1em;
    }
    
    .prose h1, .prose h2, .prose h3, .prose h4, .prose h5, .prose h6 {
        margin-top: 1em;
        margin-bottom: 0.5em;
    }
    
    .generating {
        display: inline-block;
    }
    
    .generating span {
        opacity: 0;
        animation: dot-animation 1.4s infinite;
    }
    
    .generating .dot-1 {
        animation-delay: 0s;
    }
    
    .generating .dot-2 {
        animation-delay: 0.2s;
    }
    
    .generating .dot-3 {
        animation-delay: 0.4s;
    }
    
    @keyframes dot-animation {
        0% { opacity: 0; }
        20% { opacity: 0; }
        50% { opacity: 1; }
        100% { opacity: 0; }
    }
    
    .code-top-bar {
        display: flex;
        justify-content: space-between;
        align-items: center;
        background-color: #3e4451;
        padding: 0.25em 0.5em;
        border-bottom: 1px solid #4b5363;
    }
    
    .language-display {
        color: #abb2bf;
        font-size: 0.75em;
    }
    
    .prose pre {
        padding-top: 0;
    }
    
    .prose pre code {
        padding-top: 0.5em;
    }
    
    /* Sidebar styles */
    #sidebar {
        transition: transform 0.3s ease-in-out;
        height: 100vh;
        overflow-y: auto;
    }
    
    @media (min-width: 768px) {
        #sidebar {
            transform: translateX(0) !important;
        }
    }
    
    #sidebar-toggle {
        transition: transform 0.3s ease-in-out;
        z-index: 10;
    }
    
    @media (min-width: 768px) {
        #sidebar-toggle {
            display: none;
        }
    }
    
    /* Full-width layout styles */
    .flex.h-screen.w-full {
        height: 100vh;
        width: 100vw;
        overflow: hidden;
    }
    
    .flex-1.flex.flex-col.overflow-hidden {
        width: 100%;
        transition: width 0.3s ease-in-out;
    }
    
    @media (min-width: 768px) {
        .flex-1.flex.flex-col.overflow-hidden {
            width: calc(100% - 16rem);
        }
    }

/* Add these new styles at the end */
.flex.h-screen.w-full {
    height: 100vh;
    width: 100vw;
    overflow: hidden;
}

.flex-1.flex.flex-col.overflow-hidden {
    width: 100%;
    transition: width 0.3s ease-in-out;
    min-width: 0; /* Add this line */
}

@media (min-width: 768px) {
    .flex-1.flex.flex-col.overflow-hidden {
        width: calc(100% - 16rem);
    }
}

#chatbot-container {
    max-width: 100%;
    width: 100%;
    box-sizing: border-box;
}

.modal {
    position: fixed;
    z-index: 1000;
    left: 0;
    top: 0;
    width: 100%;
    height: 100%;
    overflow: auto;
    background-color: rgba(0,0,0,0.4);
}

.modal-content {
    background-color: #fefefe;
    margin: 15% auto;
    padding: 20px;
    border: 1px solid #888;
    width: 80%;
    max-width: 500px;
    border-radius: 5px;
}

.close {
    color: #aaa;
    float: right;
    font-size: 28px;
    font-weight: bold;
}

.close:hover,
.close:focus {
    color: black;
    text-decoration: none;
    cursor: pointer;
}

.setting {
    margin-bottom: 20px;
}

.setting label {
    display: block;
    margin-bottom: 5px;
}

.setting input[type="range"] {
    width: 100%;
}

#save-settings {
    background-color: #4CAF50;
    color: white;
    padding: 10px 15px;
    border: none;
    border-radius: 4px;
    cursor: pointer;
}

#save-settings:hover {
    background-color: #45a049;
}

.hidden {
    display: none;
}

.chat-message.system {
    max-width: 100%;
    text-align: center;
    background-color: #f0f0f0;
    padding: 0.5rem;
    margin-bottom: 1rem;
    border-radius: 0.5rem;
}

    </style>
{% endblock %}